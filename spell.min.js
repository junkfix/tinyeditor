function spell(){let a=(a,b,c=[])=>{let d=Object.assign(document.createElement(a),b);return c.map((a)=>a&&d.appendChild(a)),d},b=(a,b=null)=>document.execCommand(a,!1,b),c=(a)=>/^https?:\//.test(a)?a:`http://${a}`,d=()=>a('input',{type:'color'}),e=(b)=>a('select',{},b.map((b)=>a('option',{textContent:b}))),f=[[['bold'],['italic'],['underline'],['strikeThrough'],['subscript'],['superscript']],[['justifyLeft'],['justifyCenter'],['justifyRight'],['justifyFull'],['indent'],['outdent']],[['fontName',e(['Arial','Helvetica','Times','Courier','Verdana','Impact'])],['fontSize',e([...Array(33)].map((a,b)=>8+2*b))],['forecolor',d()],['hilitecolor',d()]].map(([a,c])=>[a,0,[Object.assign(c,{onchange:()=>b(a,c.value)})]]),[...[1,2,3,4].map((a)=>['Heading'+a,`<H${a}>`]),['paragraph','<P>'],['quote','<BLOCKQUOTE>'],['code','<PRE>']].map(([a,c])=>[a,()=>b('formatBlock',c)]),[['insertOrderedList'],['insertUnorderedList'],['insertHorizontalRule']],[['removeFormat'],['unlink']],[['createLink','link'],['insertImage','image'],['insertHTML','video',(a)=>`<video controls src="${c(a)}">`]].map(([a,d,e=c])=>[d,()=>{let c=prompt(`Enter the ${d} URL`);c&&b(a,e(c))}]),[['copy'],['cut'],['paste']],[['undo'],['redo']]];return a('div',{className:'spell'},[a('div',{className:'spell-bar'},f.map((c)=>a('div',{className:'spell-zone'},c.map(([c,e=()=>b(c),d])=>a('button',{className:'spell-icon',title:c.charAt(0).toUpperCase()+c.slice(1).replace(/([A-Z1-9])/g,' $1'),innerHTML:`<i class="icon-${c.toLowerCase()}"></i>`,onclick:e},d))))),a('div',{className:'spell-content',contentEditable:!0,onkeydown:(a)=>9!==a.which})])}

