function spell(){let a=(a,b=null)=>document.execCommand(a,!1,b),b=(a)=>/^https?:\//.test(a)?a:`http://${a}`,c=(a,b,c=[],d=document.createElement(a))=>c.map((a)=>a&&d.appendChild(a))&&Object.assign(d,b),d=()=>c('input',{type:'color'}),e=(a)=>c('select',{},a.map((a)=>c('option',{textContent:a}))),f=[[['bold'],['italic'],['underline'],['strikeThrough'],['subscript'],['superscript']],[['justifyLeft'],['justifyCenter'],['justifyRight'],['justifyFull'],['indent'],['outdent']],[['fontName',e(['serif','sans-serif','monospace','cursive','fantasy'])],['fontSize',e([...Array(33)].map((a,b)=>8+2*b))],['forecolor',d()],['hilitecolor',d()]].map(([b,c])=>[b,0,Object.assign(c,{onchange:()=>a(b,c.value)})]),[...[1,2,3,4].map((a)=>['heading'+a,`<H${a}>`]),['paragraph','<p>'],['quote','<blockquote>'],['code','<pre>']].map(([b,c])=>[b,()=>a('formatBlock',c)]),[['insertOrderedList'],['insertUnorderedList'],['insertHorizontalRule']],[['removeFormat'],['unlink']],[['createLink','link',b],['insertImage','image',b],['insertHTML','video',(a)=>`<video controls src="${b(a)}">`]].map(([b,c,d])=>[c,(e)=>(e=prompt(`Enter the ${c} URL`))&&a(b,d(e))]),[['copy'],['cut'],['paste']],[['undo'],['redo']]];return c('div',{className:'spell'},[c('div',{className:'spell-bar'},f.map((b)=>c('div',{className:'spell-zone'},b.map(([b,e=()=>a(b),d])=>c('button',{className:'spell-icon',title:b.replace(/([^a-z])/g,' $1').toLowerCase(),onclick:e},[c('i',{className:'icon-'+b.toLowerCase()}),d]))))),c('div',{className:'spell-content',contentEditable:!0,onkeydown:(a)=>9!==a.which})])}

