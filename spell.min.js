function spell(){let a=(a,b=null)=>document.execCommand(a,!1,b),b=(a,b,c,d=[])=>{let e=Object.assign(document.createElement(a),{className:b},c);return d.map((a)=>a&&e.appendChild(a)),e},c=()=>b('input','',{type:'color'}),d=(a)=>b('select','',{},a.map((a)=>b('option','',{textContent:a}))),e=[[['bold'],['italic'],['underline'],['strikeThrough'],['subscript'],['superscript']],[['justifyLeft'],['justifyCenter'],['justifyRight'],['justifyFull'],['indent'],['outdent']],[['fontName',d(['Arial','Helvetica','Times','Courier','Verdana','Impact'])],['fontSize',d([...Array(33)].map((a,b)=>8+2*b))],['forecolor',c()],['hilitecolor',c()]].map(([b,c])=>{return c.onchange=()=>a(b,c.value),[b,()=>c.click(),[c]]}),[...[1,2,3,4].map((a)=>['Heading'+a,`<H${a}>`]),['Paragraph','<P>'],['Quote','<BLOCKQUOTE>'],['Code','<PRE>']].map(([b,c])=>[b,()=>a('formatBlock',c)]),[['insertOrderedList'],['insertUnorderedList'],['insertHorizontalRule']],[['removeFormat'],['unlink']],[['createLink','link'],['insertImage','image']].map(([b,c])=>[b,()=>{let d=prompt(`Enter the ${c} URL`);d&&a(b,/^https?:\/\//.test(d)?d:`http://${d}`)}]),[['copy'],['cut'],['paste']],[['undo'],['redo']]];return b('div','spell',{},[b('div','spell-bar',{},e.map((c)=>b('div','spell-zone',{},c.map(([c,e=()=>a(c),d])=>b('button','spell-action',{title:c.charAt(0).toUpperCase()+c.slice(1).replace(/([A-Z1-9])/g,' $1'),innerHTML:`<i class="icon-${c.toLowerCase()}"></i>`,onclick:e},d))))),b('div','spell-content',{contentEditable:!0,onkeydown:(a)=>9!==a.which})])}

