function spell(){let a=(a,b=null)=>document.execCommand(a,!1,b),b=(a)=>a.charAt(0).toUpperCase()+a.slice(1).replace(/([A-Z])/g,' $1'),c=(a)=>/^https?:\/\//.test(a)?a:`http://${a}`,d=(a)=>`<i class="icon-${a.toLowerCase()}"></i>`,e=[[['bold'],['italic'],['underline'],['strikeThrough'],['subscript'],['superscript']],[['justifyLeft'],['justifyCenter'],['justifyRight'],['justifyFull'],['indent'],['outdent']],[...[1,2,3,4].map((a)=>['Heading '+a,'<H'+a+'>','h']),['Paragraph','<P>'],['Quote','<BLOCKQUOTE>'],['Code','<PRE>']].map(([b,c,d=b])=>[b,d,()=>a('formatBlock',c)]),[['insertOrderedList'],['insertUnorderedList'],['insertHorizontalRule']],[['copy'],['cut'],['paste']],[['createLink','link'],['insertImage','image']].map(([b,d])=>[b,b,()=>{let e=prompt(`Enter the ${d} URL`);e&&a(b,c(e))}]),[['removeFormat'],['unlink']],[['undo'],['redo']]],f=(a,b,c,d=[])=>{let e=Object.assign(document.createElement(a),{className:b},c);return d.map((a)=>e.appendChild(a)),e};return f('div','spell',{},[f('div','spell-bar',{},e.map((c)=>f('div','spell-zone',{},c.map(([c,e=c,g=()=>a(c)])=>f('button','spell-action',{title:b(c),innerHTML:d(e),onclick:g}))))),f('div','spell-content',{contentEditable:!0,onkeydown:(a)=>9!==a.which})])}

